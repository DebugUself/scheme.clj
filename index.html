<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Scheme.clj by jiacai2050</title>
    <link rel="shortcut icon" type="image/x-icon" href="http://clojure.org/images/clojure-logo-icon-32.png">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?a100c31a89d6ddc5b50b2053988c5664";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
    </script>

  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Scheme.clj</h1>
      <h2 class="project-tagline">Yet another scheme dialect written in Clojure and ClojureScript</h2>
      <a href="https://github.com/jiacai2050/scheme.clj" class="btn">View on GitHub</a>
      <a href="https://github.com/jiacai2050/scheme.clj/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/jiacai2050/scheme.clj/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p>Lisp is good at meta-programming, Clojure as a new dialect of Lisp, brings powers of Lisp into JVM world. <a href="https://github.com/jiacai2050/scheme.clj/">Scheme.clj</a>  is an attempt to implement Scheme in Clojure(Script). It isn't a complete <a href="http://www.schemers.org/Documents/Standards/R5RS/">R5Rs</a> implementation, only partial operator and feature are supported, for which you can check out at <a href="#live-demo">Live Demo</a> part.</p>

<h2>
<a id="how-it-works" class="anchor" href="#how-it-works" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How it works</h2>

<h3>
<a id="eval-apply-cycle" class="anchor" href="#eval-apply-cycle" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Eval-Apply cycle</h3>

<p>In case of you not having read the wonderful book <a href="http://mitpress.mit.edu/sicp">SICP</a>,  I will firstly explain the famous <a href="http://sarabander.github.io/sicp/html/4_002e1.xhtml#g_t4_002e1_002e1">eval-apply cycle</a>.</p>

<center><img src="https://camo.githubusercontent.com/1641c36493f8543fcb60fa2c082f52abd5068f5c/68747470733a2f2f696d672e616c6963646e2e636f6d2f696d6765787472612f69332f3538313136363636342f5442324a68342e6b705858585862375858585858585858585858585f21213538313136363636342e706e67" alt="eval-apply cycle"></center>

<p>Eval-apply cycle is the core of every programming language:</p>

<blockquote>
<p>Expressions to be evaluated in environments are reduced to procedures to be applied to arguments, which in turn are reduced to new expressions to be evaluated in new environments, and so on, until we get down to symbols, whose values are looked up in the environment, and to primitive procedures, which are applied directly.</p>
</blockquote>

<p>For example, in order to eval expression <code>(+ 1 2)</code> in global env, the evaluator will call <code>add</code> with arguments <code>1</code> and <code>2</code>, which in turns to eval symbol <code>+</code>, <code>1</code> and <code>2</code> in another env (called <a href="https://en.wikipedia.org/wiki/Closure_(computer_programming)">closure</a>); Now every expression is self-evaled, so <code>3</code> is returned as last value.</p>

<h2>
<a id="live-demo" class="anchor" href="#live-demo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Live Demo</h2>

<p>Thanks to <a href="https://github.com/viebel/klipse">klipse</a>, We can run scheme.clj in browser !</p>

<h3>
<a id="init" class="anchor" href="#init" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Init scheme.clj</h3>

<pre><code class="language-klipse" data-external-libs="https://raw.githubusercontent.com/viebel/core.match/master/src/main/clojure/,https://raw.githubusercontent.com/jiacai2050/scheme.clj/master/src/cljc/">
  (ns my.scheme
    (:require [scheme.core :refer [eval]]))
</code></pre>

<h3>
<a id="number" class="anchor" href="#number" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a> Number</h3>

<pre><code class="language-klipse">
(map eval
    ["1"
     "(> 3 4)"
     "(< 3 4)"
     "(= 3 4)"
     "(+ 3 4)"
     "(- 3 4)"
     "(* 3 4)"
     "(/ 3 4)"])
</code></pre>
<h3>
<a id="string" class="anchor" href="#string" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>String</h3>

<pre><code class="language-klipse">
(map eval
    ["\"hello scheme.clj\""
     "(str \"foo \" \"FOO\")"
     "(= \"FOO\" \"FOO\")"
     ])
</code></pre>

<h3>
<a id="define" class="anchor" href="#define" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Define</h3>

<pre><code class="language-klipse">
(map eval
    ["(define foo 2)"
     "foo"])
</code></pre>

<h3>
<a id="flow-control" class="anchor" href="#flow-control" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Flow control</h3>

<pre><code class="language-klipse">
(eval "(if (> 3 2) 3 2)")
</code></pre>

<h3>
<a id="lambda" class="anchor" href="#lambda" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Lambda</h3>

<pre><code class="language-klipse">
(map eval
    ["((lambda (x y) (+ y x)) 1 2)"
     "(define (my-add x y) (+ y x))"
     "(my-add 1 2)"
     "(((lambda (x y) (+ x y)) 1) 2)"  ;; currying
     "(let ((x 1) (y 2))  (+ x y))"    ;; let is just a syntax sugar of lambda
     ])
 </code></pre>

<h3>
<a id="pair" class="anchor" href="#pair" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Pair</h3>

<pre><code class="language-klipse">
(map eval
    ["(cons 1 2)"
     "(list 1 2)"
     "nil"                   ;; empty list, same to (list)
     "(cons 1 nil)"          ;; same to (list 1)
     "(car (cons 1 2))"
     "(cdr (cons 1 2))"
     "(car (list 1 2))"
     "(cdr (list 1 2))"
     "(null? (list))"
     ])
 </code></pre>


      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/jiacai2050/scheme.clj">Scheme.clj</a> is maintained by <a href="https://github.com/jiacai2050">jiacai2050</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  </body>
  <!-- klipse MUST be placed after body tag -->
  <link rel="stylesheet" type="text/css" href="http://app.klipse.tech/css/codemirror.css">
  <script>
      window.klipse_settings = {
          selector: '.language-klipse'
      };
  </script>
  <script src="http://app.klipse.tech/plugin/js/klipse_plugin.js"></script>

</html>
